<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascript之变量声明</title>
    <meta name="description" content="JavaScript变量声明">
    
    
    <link rel="preload" href="/notes/assets/css/0.styles.0233c2df.css" as="style"><link rel="preload" href="/notes/assets/js/app.1fec33eb.js" as="script"><link rel="preload" href="/notes/assets/js/2.ea0af7b1.js" as="script"><link rel="preload" href="/notes/assets/js/10.a2c16757.js" as="script"><link rel="prefetch" href="/notes/assets/js/11.83cc0f95.js"><link rel="prefetch" href="/notes/assets/js/12.332b5ce2.js"><link rel="prefetch" href="/notes/assets/js/13.2dcfbca9.js"><link rel="prefetch" href="/notes/assets/js/14.5dc5524a.js"><link rel="prefetch" href="/notes/assets/js/15.710c1ff8.js"><link rel="prefetch" href="/notes/assets/js/16.ff043d55.js"><link rel="prefetch" href="/notes/assets/js/17.2e4d1660.js"><link rel="prefetch" href="/notes/assets/js/18.91fc2f7b.js"><link rel="prefetch" href="/notes/assets/js/19.37438221.js"><link rel="prefetch" href="/notes/assets/js/20.a3c91312.js"><link rel="prefetch" href="/notes/assets/js/21.7c33854d.js"><link rel="prefetch" href="/notes/assets/js/22.abbd4dc7.js"><link rel="prefetch" href="/notes/assets/js/23.0b96b6d7.js"><link rel="prefetch" href="/notes/assets/js/24.b5896a69.js"><link rel="prefetch" href="/notes/assets/js/3.d41d00ab.js"><link rel="prefetch" href="/notes/assets/js/4.2d2d707a.js"><link rel="prefetch" href="/notes/assets/js/5.b3c9369b.js"><link rel="prefetch" href="/notes/assets/js/6.1ac7d3cc.js"><link rel="prefetch" href="/notes/assets/js/7.8c1463ae.js"><link rel="prefetch" href="/notes/assets/js/8.4ed7e828.js"><link rel="prefetch" href="/notes/assets/js/9.4e70c710.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.0233c2df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">Home</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">Home</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="content default"><p>JavaScript是一门弱类型语言，它并不像其他强类型语言那样有多种变量类型的声明形式，如：int, double, string… 等，在JavaScript中声明变量统一使用 var 关键字。</p> <p>例如想要声明一个整数来使用，可以使用 <code>var num = 1;</code> 这样的语句，声明一串字符串也一样 <code>var str = 'string';</code> ,声明一个布尔值、数组、对象都是使用 <code>var</code> 这个关键字： <code>var boo = true; var arr = [1,2,3]; var obj = { x: 1, y: 2};</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 声明一个整数</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 声明一串字符串</span>
<span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 声明一个布尔值</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 声明一个数组</span>
<span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 声明一个对象</span>
</code></pre></div><p>在ES5标准之前，只有 <code>var</code> 这一个关键字用来声明一个可以使用的变量（函数暂不讨论）。而在ES6标准中，在此之上添加了两个新的声明变量的关键字，<code>let</code> 和 <code>const</code>。严格说起来应该是一个声明变量，一个声明常量， <code>const</code> 就是用来声明常量的关键字。</p> <h2 id="let与var有什么不同？"><a href="#let与var有什么不同？" aria-hidden="true" class="header-anchor">#</a> let与var有什么不同？</h2> <p>这需要从变量的作用域说起。在ES5标准之前，JavaScript中只有两种作用域：全局作用域与函数作用域。全局作用域的变量可以在代码运行中的任何位置访问到，而函数作用域的变量只有在该函数内部能够访问到。而在ES6标准中新增了一个块级作用域的概念，let关键字就是对应块级作用域的概念的变量声明。通过let声明的变量只有在声明时所在的块级作用域的范围内能访问，所谓块级作用域指的是代码中被<code>{}</code>包裹起来的代码（对象除外），函数体也属于代码块。</p> <p><code>let</code> 与 <code>var</code> 另一个不同的地方在于：</p> <ul><li><p><code>var</code> 声明的变量可以重复声明，但只有第一次声明有效，且有声明提升；</p></li> <li><p><code>let</code> 声明的变量不能再次声明，否则会报错，且let声明的变量并没有声明提升。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: y is not defined</span>
<span class="token comment">// let声明的变量在他所在的块级范围之外无法访问</span>
<span class="token comment">/* --------------------------------------- */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// undefined: 因为var声明有变量名提升，所以运行代码时，</span>
<span class="token comment">// 系统就知道a是一个变量，只是这个变量并没有被赋值，因此是undefined</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ReferenceError: b is not defined</span>
<span class="token comment">// 因为let声明没有变量名提升，所以运行到这句代码时，</span>
<span class="token comment">// b还没有定义，不能作为一个变量使用</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">/* --------------------------------------- */</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Identifier 'c' has already been declared</span>
<span class="token comment">// let 无法重复声明已有变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="const常量"><a href="#const常量" aria-hidden="true" class="header-anchor">#</a> const常量</h2> <p>所谓常量，与变量相反。变量就是可以改变的量，而常量则是一旦声明，就无法改变的量。有些数据在使用过程中是不会改变的，甚至有些就是固定不变的值，如圆周率PI，像这样的数据，使用 <code>var</code> 声明，之后一直不做改动自然也是不算错的，但是使用 <code>const</code> 声明的话，更能够表达出符合的语义，用 <code>const PI = 3.14;</code> 代替 <code>var PI = 3.14;</code> 更能让人清楚地知道这是一个常量。</p> <p>const声明的变量的作用域范围同let关键字，也是声明变量所在的块级作用域，用const声明的变量也不能重复声明，且没有变量声明提升，另外不能通过赋值来改变常量的值。</p> <p>基于这几点，在声明一个常量的时候就要将这个常量的值赋给它，而不能先声明一个没有值的常量，再在之后赋值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">RWBY</span><span class="token punctuation">;</span>
<span class="token constant">RWBY</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ruby&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;weiss&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;blake&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yang&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Missing initializer in const declaration</span>
<span class="token comment">// 虽然错误是在重新给常量赋值时抛出的，也就是说 const RWBY; 这一步并没有错</span>
<span class="token comment">// 但是很显然这样的语句毫无意义，所以通常声明一个常量时应该直接将值赋予该常量</span>
</code></pre></div><h2 id="关于变量声明提升"><a href="#关于变量声明提升" aria-hidden="true" class="header-anchor">#</a> 关于变量声明提升</h2> <p>JavaScript是解释型语言，解析一句执行一句，为了提高效率，在代码解析执行之前，有一个预解析的过程。在预解析时，代码并不会执行，系统只会检查当前作用域（函数内部的代码不会检查，只有在调用函数时，才会重复 <code>“预解析-&gt;执行”</code> 这样的步骤）的代码有没有语法上的错误和代码中的变量声明关键字 <code>var</code> 和函数声明的关键字 <code>function</code>。</p> <p>在遇到这两种声明时，系统会在内存中预先记录下声明的变量名和函数名，也就是标识符。在预解析结束后，运行代码之前，系统就得到了有哪些标识符是可以作为变量来使用的，如果使用了系统未记录的标识符，也就是没有声明的变量，这时系统就会抛出一个引用错误 <code>ReferenceError: xxx is not defined</code> 。</p> <p>在预解析过程中，如果遇到了同一个标识符多次声明，是不会多次记录的，只会记录第一次。如果同一个标识符既有变量声明var，又有函数声明function，最终记录下来的标识符是一个函数，遵循的原则是先有什么就记录什么，函数声明会记录两件事，一个同变量声明，记录该标识符可以使用，第二个记录该标识符指向一个函数。
所以有说法 <em>函数是JavaScript中的一等公民</em>。
但要知道该记录只保持在预解析结束，运行代码之前。
在运行代码过程中，需要根据实际情况判断标识符到底是一个变量还是一个函数。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.1fec33eb.js" defer></script><script src="/notes/assets/js/2.ea0af7b1.js" defer></script><script src="/notes/assets/js/10.a2c16757.js" defer></script>
  </body>
</html>
